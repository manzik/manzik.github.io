<!DOCTYPE html>
<html>
<head>
    <title>Squares | Manzik lab</title>
    <script src="/js/lab.js"></script>
    <style id="st">
        .sq
        {
        }
    </style>
    <script src="http://manzik.co/js/ask.js"></script>
    <script>
        (function (i, s, o, g, r, a, m)
        {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function ()
            {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-52938764-1', 'auto');
        ga('send', 'pageview');

    </script>
    <script>
        var speed = new Array(20);
        var rt = new Array(20);
        _rt = new Array(20);
        function init()
        {
            t = '';
            for (var i = 0; i < 20; i++)
            {
                x = Math.floor(Math.random() * Date.now()) % (innerWidth / 2);
                zi = Math.floor(Math.random() * Date.now()) % 100;
                t += "<div class=\"sq\" style=\"-webkit-transform: rotate(0deg); transform: rotate(0deg); position:fixed;background-color:white;border-color:black;border:solid;border-radius:10%;z-index:" + zi + ";top:" + Math.floor(Math.random() * Date.now()) % innerHeight * 2 + "px;left:" + String(Math.floor(Math.random() * Date.now()) % (innerWidth + x) - x) + "px;height:" + x + "px;width:" + x + "px; \"></div>";
            }
            document.getElementById("s").innerHTML = t;
            for (var i = 0; i < 20; i++)
            {
                speed[i] = Math.floor(Math.random() * Date.now()) % 15 + 10;
                rt[i] = (Math.floor(Math.random() * Date.now()) % 8 - 4) + (Math.random() * 2 - 1);
                _rt[i] = Math.floor(Math.random() * Date.now()) % 361;
            }
            render();
        }

        function render()
        {
            for (var i = 0; i < 20; i++)
            {
                document.getElementById("s").children[i].style.top = parseFloat(document.getElementById("s").children[i].style.top) - speed[i] + "px";
                if (parseFloat(document.getElementById("s").children[i].style.top) + parseFloat(document.getElementById("s").children[i].style.height) * 2 <= 0)
                {
                    x = Math.floor(Math.random() * Date.now()) % (innerWidth / 2.5);
                    document.getElementById("s").children[i].style.top = innerHeight + parseFloat(document.getElementById("s").children[i].style.height)*1.3 + "px";
                    document.getElementById("s").children[i].style.height = x + "px";
                    document.getElementById("s").children[i].style.width = x + "px";
                    document.getElementById("s").children[i].style.left = String(Math.floor(Math.random() * Date.now()) % (innerWidth + x) - x) + "px";
                    //document.getElementById("s").children[i].style.backgroundColor="rgb("+rnd()+","+rnd()+","+rnd()+")";
                    rt[i] = (Math.floor(Math.random() * Date.now()) % 8 - 4) + (Math.random() * 2 - 1);
                    _rt[i] = Math.floor(Math.random() * Date.now()) % 361;
                }
                _rt[i] += rt[i];
                document.getElementById("s").children[i].style.webkitTransform = "rotate(" + _rt[i] + "deg)";
                document.getElementById("s").children[i].style.transform = "rotate(" + _rt[i] + "deg)";
            }
            requestAnimationFrame(render);
        }
        function rnd()
        {
            return Math.floor(Math.random() * Date.now())%255;
        }
    </script>
</head>
<body onload="init()" style="background-color: rgb(248, 248, 248);">
    <!--<div style="z-index:101;margin:0;left:0;top:0;top:92%;position:fixed;height:8%;box-shadow:0px -2px 10px 2px rgba(0,0,0,0.5);width:100%;background-color:white;"></div>-->
    <div id="s"></div>
</body>
</html>